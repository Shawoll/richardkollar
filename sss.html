<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Silly Shirt Studio</title>
<style>
  :root {
    --bg: #0f1220; --panel:#191c2b; --ink:#e8eaf6; --muted:#9aa3b2; --accent:#ffd166;
    --btn:#2a2f45; --btn-hover:#343a56; --ok:#49cc90;
  }
  * { box-sizing: border-box; }
  body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
         color:var(--ink); background:linear-gradient(180deg, #0b0e1a, #14182a 40%, #0f1220); }
  header { padding:20px 24px; border-bottom:1px solid #22263b; display:flex; gap:12px; align-items:center; }
  header h1 { margin:0; font-size:18px; letter-spacing:.6px; font-weight:700; }
  main { display:grid; grid-template-columns: 360px 1fr; gap:18px; padding:18px; }
  @media (max-width: 980px){ main{ grid-template-columns:1fr; } }
  .card { background:var(--panel); border:1px solid #22263b; border-radius:14px; padding:16px; }
  .controls { display:grid; gap:12px; }
  label { display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }
  input[type="text"], select, input[type="number"] {
    width:100%; padding:10px 12px; background:#0f1220; color:var(--ink);
    border:1px solid #2d3250; border-radius:10px; outline:none;
  }
  .row { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
  .row3 { display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; }
  .buttons { display:flex; gap:10px; flex-wrap:wrap; margin-top:8px; }
  button {
    background:var(--btn); color:var(--ink); border:1px solid #2d3250; border-radius:10px;
    padding:10px 14px; cursor:pointer; font-weight:600;
  }
  button:hover { background:var(--btn-hover); }
  .ok { border-color:#2a6045; }
  .accent { border-color:#6b5b00; }
  .hint { font-size:12px; color:var(--muted); margin-top:2px; }
  .previewWrap { display:flex; align-items:center; justify-content:center; min-height:520px; }
  .notice { font-size:12px; color:var(--muted); text-align:center; margin-top:10px; }
  .small { font-size:11px; color:#8d96a8; }
</style>
</head>
<body>
  <header>
    <svg width="26" height="26" viewBox="0 0 64 64" aria-hidden="true"><circle cx="32" cy="32" r="30" fill="#ffd166"/><path d="M20 44c8 3 16 3 24 0 0 0-3-8-12-8s-12 8-12 8Z" fill="#0f1220"/><circle cx="24" cy="26" r="4" fill="#0f1220"/><circle cx="40" cy="26" r="4" fill="#0f1220"/></svg>
    <h1>Silly Shirt Studio</h1>
    <div class="small">fake teams ¬∑ real drip</div>
  </header>

  <main>
    <section class="card">
      <div class="controls">
        <div>
          <label for="city">City</label>
          <input id="city" type="text" placeholder="e.g., Prague" />
        </div>
        <div class="row">
          <div>
            <label for="teamNoun">Team noun</label>
            <input id="teamNoun" type="text" placeholder="e.g., Warriors" />
          </div>
          <div>
            <label for="mascot">Mascot / animal</label>
            <input id="mascot" type="text" placeholder="e.g., Leopards" />
          </div>
        </div>
        <div class="row">
          <div>
            <label for="year">Year</label>
            <input id="year" type="number" min="1870" max="2099" />
          </div>
          <div>
            <label for="style">Style</label>
            <select id="style">
              <option value="retro">Retro</option>
              <option value="modern">Modern</option>
              <option value="collegiate">Collegiate</option>
              <option value="gothic">Gothic</option>
            </select>
          </div>
        </div>

        <div class="row3">
          <div>
            <label for="palette">Palette</label>
            <select id="palette">
              <option value="crimson-gold">Crimson/Gold</option>
              <option value="navy-sun">Navy/Sun</option>
              <option value="forest-cream">Forest/Cream</option>
              <option value="black-mint">Black/Mint</option>
              <option value="purple-teal">Purple/Teal</option>
            </select>
          </div>
          <div>
            <label for="seed">Seed</label>
            <input id="seed" type="text" placeholder="optional (reproducible)" />
          </div>
          <div>
            <label for="shape">Crest Shape</label>
            <select id="shape">
              <option value="shield">Shield</option>
              <option value="circle">Circle</option>
              <option value="diamond">Diamond</option>
            </select>
          </div>
        </div>

        <div class="buttons">
          <button id="randomize">üé≤ Randomize</button>
          <button id="shuffleColors">üé® Shuffle Colors</button>
          <button id="exportPNG" class="ok">‚¨áÔ∏è Export PNG</button>
          <button id="exportSVG" class="accent">‚¨áÔ∏è Export SVG</button>
        </div>
        <div class="hint">Tip: set a seed (e.g. <code>1973-prague-cat</code>) then hit Randomize to get deterministic results.</div>
      </div>
    </section>

    <section class="card previewWrap">
      <div id="preview"></div>
    </section>
  </main>

  <p class="notice">Made with ‚ù§Ô∏è for chaos. Fonts use safe fallbacks; swap in your brand faces later.</p>

<script>
/* ---------- tiny utility & seedable RNG ---------- */
function xmur3(str){let h=1779033703^str.length; for(let i=0;i<str.length;i++){h=Math.imul(h^str.charCodeAt(i),3432918353); h=h<<13|h>>>19;} return function(){h=Math.imul(h^h>>>16,2246822507); h=Math.imul(h^h>>>13,3266489909); return (h^h>>>16)>>>0;}}
function mulberry32(a){return function(){let t=a+=0x6D2B79F5; t=Math.imul(t ^ t>>>15, t | 1); t^= t + Math.imul(t ^ t>>>7, t | 61); return ((t ^ t>>>14) >>> 0) / 4294967296;}}
function seededRandom(seed){if(!seed) return Math.random; const s = xmur3(seed)(); return mulberry32(s); }
const pick = (rng, arr) => arr[Math.floor(rng()*arr.length)];

/* ---------- data ---------- */
const CITIES = ["Prague","Bratislava","Tokyo","Bologna","Riga","Valencia","Portland","Oslo","Reykjav√≠k","Kyiv","Seville","Brno","Vienna","Lyon","Troms√∏","Gdansk","Bilbao","Ostrava"];
const NOUNS = ["Warriors","Leopards","Gentlemen","Rockets","Parrots","Panthers","Badgers","Comets","Wolves","Ravens","Otters","Shamans","Sailors","Buzzards","Cyclones","Frogs","Titans","Miners","Pirates","Llamas"];
const MASCOTS = ["Leopard","Bear","Cat","Eagle","Boar","Octopus","Raven","Wolf","Fox","Frog","Bison","Hare","Cobra","Gull","Ram","Llama","Shark","Pigeon"];
const PALETTES = {
  "crimson-gold": ["#8c1c13","#ffd166","#ffffff","#101216"],
  "navy-sun": ["#0b3a75","#ffcc00","#e6edf6","#0c1020"],
  "forest-cream": ["#0e4d2a","#f5eddc","#dbe4d7","#0e0f16"],
  "black-mint": ["#121417","#7ef7d0","#e3fff7","#0b0c0f"],
  "purple-teal": ["#4b2e83","#2dd4bf","#f2f6ff","#090b14"]
};

const SHAPES = ["shield","circle","diamond"];
const STYLES = ["retro","modern","collegiate","gothic"];

/* ---------- state ---------- */
const $ = sel => document.querySelector(sel);
const state = {
  city: "Prague",
  noun: "Warriors",
  mascot: "Leopards",
  year: 1973,
  style: "retro",
  palette: "navy-sun",
  shape: "shield",
  seed: ""
};

/* ---------- rendering ---------- */
function renderSVG(cfg){
  const [primary, accent, light, deep] = PALETTES[cfg.palette] || PALETTES["navy-sun"];
  const crest = crestPath(cfg.shape);
  const fontStack = styleFont(cfg.style);
  const topText = `${cfg.city} ${cfg.noun}`.toUpperCase();
  const bottomText = (cfg.mascot || "").toUpperCase();

  const mascotIcon = mascotSVG(cfg, accent, deep);

  // arc text via textPath
  // viewBox 800x800 for crisp export
  return `
  <svg id="shirtSVG" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800">
    <defs>
      <filter id="grain"><feTurbulence baseFrequency="0.65" numOctaves="2" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/></filter>
      <path id="arcTop" d="M120,390 A280,280 0 0 1 680,390" />
      <path id="arcBottom" d="M150,565 A250,250 0 0 0 650,565" />
      <clipPath id="crestClip"><path d="${crest}"/></clipPath>
    </defs>

    <rect width="100%" height="100%" fill="${deep}"/>
    <g transform="translate(400,400)">
      <g transform="translate(-400,-400)">
        <path d="${crest}" fill="${primary}" stroke="${light}" stroke-width="12"/>
        <g clip-path="url(#crestClip)">
          <rect x="0" y="0" width="800" height="800" fill="${primary}"/>
          <rect x="0" y="360" width="800" height="100" fill="${accent}" opacity="0.2"/>
        </g>
        <circle cx="400" cy="420" r="120" fill="${accent}" opacity="0.10"/>
        ${mascotIcon}
        <text font-family="${fontStack}" font-size="54" fill="${light}" letter-spacing="4" font-weight="900">
          <textPath href="#arcTop" startOffset="50%" text-anchor="middle">${topText}</textPath>
        </text>
        <text font-family="${fontStack}" font-size="44" fill="${light}" letter-spacing="6" font-weight="700">
          <textPath href="#arcBottom" startOffset="50%" text-anchor="middle">${bottomText}</textPath>
        </text>
        <g transform="translate(400,640)">
          <rect x="-90" y="-40" width="180" height="64" rx="8" fill="${accent}" />
          <text x="0" y="8" font-family="${fontStack}" font-size="44" fill="${deep}" font-weight="900" text-anchor="middle">${cfg.year}</text>
        </g>
      </g>
    </g>
  </svg>`;
}

function crestPath(shape){
  switch(shape){
    case "circle": return "M400,120 A280,280 0 1 1 399.9,120 Z";
    case "diamond": return "M400,90 L690,400 L400,710 L110,400 Z";
    default: // shield
      return "M160,140 L640,140 L640,420 C640,580 520,690 400,710 C280,690 160,580 160,420 Z";
  }
}
function styleFont(style){
  switch(style){
    case "modern": return "Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif";
    case "collegiate": return "'Copperplate', 'Trajan Pro', serif";
    case "gothic": return "'Blackletter', 'Times New Roman', serif";
    default: return "Arial Black, 'Helvetica Neue', Helvetica, Arial, sans-serif";
  }
}
function mascotSVG(cfg, c1, c2){
  // super simple geometric mascots; easy to swap for real icons later
  const center = `transform="translate(400,430)"`;
  const base = (body) => `<g ${center}>${body}</g>`;
  const common = (stroke="#000") => `stroke="${c2}" stroke-width="8"`;
  const m = (cfg.mascot || "").toLowerCase();
  if(m.includes("fox")) return base(`<path d="M0,-80 L-60,-20 L-20,0 L0,-10 L20,0 L60,-20 Z" fill="${c1}" ${common()}/><circle cx="-18" cy="-10" r="6" fill="${c2}"/><circle cx="18" cy="-10" r="6" fill="${c2}"/>`);
  if(m.includes("eagle")||m.includes("raven")||m.includes("gull")) return base(`<path d="M-100,-20 C-40,-40,40,-40,100,-20 L0,40 Z" fill="${c1}" ${common()}/><circle cx="0" cy="-10" r="10" fill="${c2}"/>`);
  if(m.includes("wolf")) return base(`<path d="M-60,-30 L0,-80 L60,-30 L40,20 L-40,20 Z" fill="${c1}" ${common()}/><rect x="-18" y="-6" width="12" height="12" fill="${c2}"/><rect x="6" y="-6" width="12" height="12" fill="${c2}"/>`);
  if(m.includes("bear")||m.includes("bison")) return base(`<circle cx="0" cy="-10" r="48" fill="${c1}" ${common()}/><circle cx="-24" cy="-48" r="14" fill="${c1}" ${common()}/><circle cx="24" cy="-48" r="14" fill="${c1}" ${common()}/>`);
  if(m.includes("frog")) return base(`<circle cx="-20" cy="-30" r="18" fill="${c1}" ${common()}/><circle cx="20" cy="-30" r="18" fill="${c1}" ${common()}/><ellipse cx="0" cy="0" rx="60" ry="40" fill="${c1}" ${common()}/>`);
  if(m.includes("cat")||m.includes("leopard")||m.includes("tiger")||m.includes("lion")) return base(`<path d="M-50,-20 L-20,-60 L0,-40 L20,-60 L50,-20 L20,20 L-20,20 Z" fill="${c1}" ${common()}/>`);

  // fallback: abstract comet
  return base(`<circle cx="-50" cy="-20" r="18" fill="${c1}" ${common()}/><rect x="-30" y="-26" width="90" height="12" fill="${c1}" ${common()}/><rect x="-20" y="-8" width="70" height="10" fill="${c1}" opacity="0.8"/>`);
}

/* ---------- export ---------- */
function download(filename, content, type="image/svg+xml"){
  const a = document.createElement("a");
  const blob = new Blob([content], {type});
  a.href = URL.createObjectURL(blob);
  a.download = filename;
  a.click();
  setTimeout(()=>URL.revokeObjectURL(a.href), 500);
}
function exportSVG(){
  const svg = $("#shirtSVG").outerHTML;
  const name = safeName() + ".svg";
  download(name, svg, "image/svg+xml");
}
function exportPNG(scale=2){
  const svgEl = $("#shirtSVG");
  const xml = new XMLSerializer().serializeToString(svgEl);
  const svg64 = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(xml);
  const img = new Image();
  img.onload = () => {
    const canvas = document.createElement("canvas");
    canvas.width = 800*scale; canvas.height = 800*scale;
    const ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    canvas.toBlob(b => download(safeName()+".png", b, "image/png"));
  };
  img.src = svg64;
}
function safeName(){
  const {city,noun,mascot,year,style} = state;
  return `${city}-${noun}-${mascot}-${year}-${style}`.toLowerCase().replace(/[^a-z0-9]+/g,"-");
}

/* ---------- UI wiring ---------- */
function fillInputs(){
  $("#city").value = state.city;
  $("#teamNoun").value = state.noun;
  $("#mascot").value = state.mascot;
  $("#year").value = state.year;
  $("#style").value = state.style;
  $("#palette").value = state.palette;
  $("#shape").value = state.shape;
  $("#seed").value = state.seed;
}
function readInputs(){
  state.city = $("#city").value || state.city;
  state.noun = $("#teamNoun").value || state.noun;
  state.mascot = $("#mascot").value || state.mascot;
  state.year = +($("#year").value || state.year);
  state.style = $("#style").value;
  state.palette = $("#palette").value;
  state.shape = $("#shape").value;
  state.seed = $("#seed").value.trim();
}
function update(){
  readInputs();
  $("#preview").innerHTML = renderSVG(state);
}
function randomize(){
  const rng = seededRandom($("#seed").value.trim() || String(Date.now()));
  $("#city").value = pick(rng, CITIES);
  $("#teamNoun").value = pick(rng, NOUNS);
  $("#mascot").value = pick(rng, MASCOTS);
  $("#year").value = 1900 + Math.floor(rng()*125);
  $("#style").value = pick(rng, STYLES);
  $("#shape").value = pick(rng, SHAPES);
  $("#palette").value = Object.keys(PALETTES)[Math.floor(rng()*Object.keys(PALETTES).length)];
  update();
}
function shuffleColors(){
  const keys = Object.keys(PALETTES);
  const i = keys.indexOf($("#palette").value);
  $("#palette").value = keys[(i+1)%keys.length];
  update();
}

/* init */
fillInputs();
update();

/* events */
["#city","#teamNoun","#mascot","#year","#style","#palette","#shape","#seed"].forEach(sel=>{
  $(sel).addEventListener("input", update);
});
$("#randomize").addEventListener("click", randomize);
$("#shuffleColors").addEventListener("click", shuffleColors);
$("#exportSVG").addEventListener("click", exportSVG);
$("#exportPNG").addEventListener("click", ()=>exportPNG(2));
</script>
</body>
</html>